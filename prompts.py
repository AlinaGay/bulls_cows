# prompts.py

BASE_PROMPT = """Ты играешь в игру "Быки и коровы".
В каждом сообщении тебе будет указана твоя текущая роль.

ПРАВИЛА ИГРЫ:
Один игрок загадывает 4-значное число, другой пытается его отгадать.
- Число состоит из 4 разных цифр (цифры не повторяются)
- Первая цифра не может быть 0 (число от 1000 до 9999)

Подсказки после каждой попытки:
- Бык — цифра угадана И стоит на правильной позиции
- Корова — цифра есть в числе, но стоит на другой позиции
- Победа — 4 быка

---

РОЛЬ: ЗАГАДЫВАЮЩИЙ — ЗАГАДАТЬ ЧИСЛО
Ответ: {"action": "make", "number": "XXXX", "bulls": 0, "cows": 0}

---

РОЛЬ: ЗАГАДЫВАЮЩИЙ — ОЦЕНИТЬ ПОПЫТКУ
Посчитай быков и коров.
Ответ: {"action": "evaluate", "number": "", "bulls": X, "cows": Y}

---

РОЛЬ: ОТГАДЫВАЮЩИЙ
Проанализируй историю и сделай логичный ход.
"""


# Стратегия 1: Логическое исключение (ваш текущий подход)
STRATEGY_1 = """
СТРАТЕГИЯ ОТГАДЫВАНИЯ:

1. ПЕРВАЯ ПОПЫТКА: выбери 1234 или 5678

2. АНАЛИЗ РЕЗУЛЬТАТОВ:
   - 0Б 0К → этих 4 цифр НЕТ в числе, исключи их навсегда
   - 0Б NК → N цифр есть, но ВСЕ не на своих местах
   - NБ 0К → N цифр на местах, остальных цифр нет в числе

3. ЛОГИКА:
   - Корова → пробуй на других позициях
   - Бык → сохраняй позицию
   - Не повторяй попытки
"""


# Стратегия 2: Быстрое сканирование
STRATEGY_2 = """
СТРАТЕГИЯ ОТГАДЫВАНИЯ:

1. СКАНИРОВАНИЕ (первые 2-3 хода):
   - Ход 1: 1234 → узнаём про цифры 1,2,3,4
   - Ход 2: 5678 → узнаём про цифры 5,6,7,8
   - Теперь знаем какие цифры есть в числе

2. КОМБИНИРОВАНИЕ:
   - Собери цифры, которые дали результат
   - Переставляй их, ищи правильные позиции

3. ПРАВИЛА:
   - Не повторяй попытки
   - Используй только "активные" цифры
"""


# Финальная часть (общая)
END_PROMPT = """
Ответ: {"action": "guess", "number": "XXXX", "bulls": 0, "cows": 0}

---

ВАЖНО:
- Отвечай ТОЛЬКО JSON без лишнего текста
- ВСЕГДА возвращай все 4 поля: action, number, bulls, cows
"""


# Собранные промпты
PLAYER_1_PROMPT = BASE_PROMPT + STRATEGY_1 + END_PROMPT
PLAYER_2_PROMPT = BASE_PROMPT + STRATEGY_2 + END_PROMPT